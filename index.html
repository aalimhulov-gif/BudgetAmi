<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–°–µ–º–µ–π–Ω—ã–π –±—é–¥–∂–µ—Ç</title>

    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="./src/styles/main.css" />
    <link rel="stylesheet" href="./src/styles/themes.css" />
    <link rel="stylesheet" href="./src/styles/components.css" />
    <link rel="stylesheet" href="./src/styles/modals.css" />
    <link rel="stylesheet" href="./src/styles/responsive.css" />

    <!-- –ò–∫–æ–Ω–∫–∏ Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body data-theme="dark">
    <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div id="loading-screen" class="loading-screen">
      <div class="loader"></div>
      <p>–ó–∞–≥—Ä—É–∂–∞–µ–º –≤–∞—à –±—é–¥–∂–µ—Ç...</p>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
    <div id="auth-screen" class="auth-screen hidden">
      <div class="auth-container">
        <div class="auth-header">
          <h1><i class="fas fa-wallet"></i> –°–µ–º–µ–π–Ω—ã–π –±—é–¥–∂–µ—Ç</h1>
          <p>–£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏ –≤–º–µ—Å—Ç–µ</p>
        </div>

        <!-- –§–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ -->
        <div id="login-form" class="auth-form">
          <h2>–í—Ö–æ–¥</h2>
          <form id="loginForm">
            <div class="input-group">
              <i class="fas fa-envelope"></i>
              <input
                type="email"
                id="loginEmail"
                placeholder="Email"
                required
              />
            </div>
            <div class="input-group">
              <i class="fas fa-lock"></i>
              <input
                type="password"
                id="loginPassword"
                placeholder="–ü–∞—Ä–æ–ª—å"
                required
              />
            </div>
            <button type="submit" class="btn btn-primary">–í–æ–π—Ç–∏</button>
          </form>
          <p class="auth-switch">
            –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞?
            <a href="#" onclick="showRegisterForm()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
          </p>
        </div>

        <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
        <div id="register-form" class="auth-form hidden">
          <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
          <form id="registerForm">
            <div class="input-group">
              <i class="fas fa-user"></i>
              <input type="text" id="registerName" placeholder="–ò–º—è" required />
            </div>
            <div class="input-group">
              <i class="fas fa-envelope"></i>
              <input
                type="email"
                id="registerEmail"
                placeholder="Email"
                required
              />
            </div>
            <div class="input-group">
              <i class="fas fa-lock"></i>
              <input
                type="password"
                id="registerPassword"
                placeholder="–ü–∞—Ä–æ–ª—å"
                required
              />
            </div>
            <button type="submit" class="btn btn-primary">
              –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
            </button>
          </form>
          <p class="auth-switch">
            –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" onclick="showLoginForm()">–í–æ–π—Ç–∏</a>
          </p>
        </div>

        <!-- –§–æ—Ä–º–∞ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫ –±—é–¥–∂–µ—Ç—É -->
        <div id="join-budget-form" class="auth-form hidden">
          <h2>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –±—é–¥–∂–µ—Ç—É</h2>
          <form id="joinBudgetForm">
            <div class="input-group">
              <i class="fas fa-key"></i>
              <input
                type="text"
                id="budgetId"
                placeholder="ID –±—é–¥–∂–µ—Ç–∞"
                required
              />
            </div>
            <button type="submit" class="btn btn-primary">
              –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è
            </button>
          </form>
          <div class="budget-actions">
            <button onclick="createNewBudget()" class="btn btn-secondary">
              –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –±—é–¥–∂–µ—Ç
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <div id="app" class="app hidden">
      <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
      <nav class="navbar">
        <div class="nav-brand">
          <i class="fas fa-wallet"></i>
          <span>–°–µ–º–µ–π–Ω—ã–π –±—é–¥–∂–µ—Ç</span>
        </div>

        <div class="nav-menu">
          <a href="#home" class="nav-link active" data-page="home">
            <i class="fas fa-home"></i>
            <span>–ì–ª–∞–≤–Ω–∞—è</span>
          </a>
          <a href="#categories" class="nav-link" data-page="categories">
            <i class="fas fa-tags"></i>
            <span>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</span>
          </a>
          <a href="#limits" class="nav-link" data-page="limits">
            <i class="fas fa-chart-line"></i>
            <span>–õ–∏–º–∏—Ç—ã</span>
          </a>
          <a href="#goals" class="nav-link" data-page="goals">
            <i class="fas fa-target"></i>
            <span>–¶–µ–ª–∏</span>
          </a>
          <a href="#transactions" class="nav-link" data-page="transactions">
            <i class="fas fa-list"></i>
            <span>–û–ø–µ—Ä–∞—Ü–∏–∏</span>
          </a>
          <a href="#settings" class="nav-link" data-page="settings">
            <i class="fas fa-cog"></i>
            <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
          </a>
        </div>

        <div class="nav-actions">
          <button
            id="theme-toggle"
            class="btn btn-icon"
            title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É"
          >
            <i class="fas fa-moon"></i>
          </button>
          <button id="logout-btn" class="btn btn-icon" title="–í—ã–π—Ç–∏">
            <i class="fas fa-sign-out-alt"></i>
          </button>
        </div>
      </nav>

      <!-- –ö–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü -->
      <main class="main-content">
        <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
        <section id="home-page" class="page active">
          <div class="page-header">
            <h1>–û–±—â–∏–π –±–∞–ª–∞–Ω—Å</h1>
            <div class="total-balance">
              <span id="total-balance">0</span>
              <span id="currency-symbol">z≈Ç</span>
            </div>
          </div>

          <div class="users-grid">
            <div id="users-container">
              <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
          </div>
        </section>

        <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
        <section id="categories-page" class="page">
          <div class="page-header">
            <h1>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h1>
            <button class="btn btn-primary" onclick="openAddCategoryModal()">
              <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
            </button>
          </div>
          <div id="categories-container" class="categories-grid">
            <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
          </div>
        </section>

        <!-- –õ–∏–º–∏—Ç—ã -->
        <section id="limits-page" class="page">
          <div class="page-header">
            <h1>–õ–∏–º–∏—Ç—ã —Ä–∞—Å—Ö–æ–¥–æ–≤</h1>
            <button class="btn btn-primary" onclick="openSetLimitModal()">
              <i class="fas fa-plus"></i> –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–∏–º–∏—Ç
            </button>
          </div>
          <div id="limits-container" class="limits-grid">
            <!-- –õ–∏–º–∏—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
          </div>
        </section>

        <!-- –¶–µ–ª–∏ -->
        <section id="goals-page" class="page">
          <div class="page-header">
            <h1>–¶–µ–ª–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è</h1>
            <button class="btn btn-primary" onclick="openAddGoalModal()">
              <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —Ü–µ–ª—å
            </button>
          </div>
          <div id="goals-container" class="goals-grid">
            <!-- –¶–µ–ª–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
          </div>
        </section>

        <!-- –û–ø–µ—Ä–∞—Ü–∏–∏ -->
        <section id="transactions-page" class="page">
          <div class="page-header">
            <h1>–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h1>
            <div class="filters">
              <select id="user-filter">
                <option value="">–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</option>
              </select>
              <select id="category-filter">
                <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
              </select>
              <select id="type-filter">
                <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
                <option value="income">–î–æ—Ö–æ–¥—ã</option>
                <option value="expense">–†–∞—Å—Ö–æ–¥—ã</option>
              </select>
              <input type="date" id="date-filter" />
            </div>
          </div>
          <div id="transactions-container" class="transactions-list">
            <!-- –û–ø–µ—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
          </div>
        </section>

        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
        <section id="settings-page" class="page">
          <div class="page-header">
            <h1>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
          </div>
          <div class="settings-grid">
            <div class="setting-card">
              <h3><i class="fas fa-money-bill"></i> –í–∞–ª—é—Ç–∞</h3>
              <select id="currency-select">
                <option value="PLN">–ü–æ–ª—å—Å–∫–∏–π –∑–ª–æ—Ç—ã–π (z≈Ç)</option>
                <option value="USD">–î–æ–ª–ª–∞—Ä –°–®–ê ($)</option>
                <option value="UAH">–£–∫—Ä–∞–∏–Ω—Å–∫–∞—è –≥—Ä–∏–≤–Ω–∞ (‚Ç¥)</option>
              </select>
            </div>

            <div class="setting-card">
              <h3><i class="fas fa-palette"></i> –¢–µ–º–∞</h3>
              <div class="theme-toggle">
                <label class="switch">
                  <input type="checkbox" id="theme-switch" />
                  <span class="slider">
                    <i class="fas fa-sun"></i>
                    <i class="fas fa-moon"></i>
                  </span>
                </label>
              </div>
            </div>

            <div class="setting-card">
              <h3><i class="fas fa-users"></i> ID –±—é–¥–∂–µ—Ç–∞</h3>
              <div class="budget-id-display">
                <input type="text" id="budget-id-display" readonly />
                <button onclick="copyBudgetId()" class="btn btn-secondary">
                  <i class="fas fa-copy"></i> –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                </button>
              </div>
              <p class="help-text">
                –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —ç—Ç–∏–º ID —Å –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –æ–±—â–µ–º—É –±—é–¥–∂–µ—Ç—É
              </p>
            </div>
          </div>
        </section>
      </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–æ—Ö–æ–¥–∞/—Ä–∞—Å—Ö–æ–¥–∞ -->
    <div id="transaction-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="transaction-modal-title">–î–æ–±–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é</h2>
          <button class="close-btn" onclick="closeModal('transaction-modal')">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <form id="transaction-form">
          <div class="input-group">
            <label>–°—É–º–º–∞</label>
            <input type="number" id="transaction-amount" step="0.01" required />
          </div>
          <div class="input-group">
            <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
            <select id="transaction-category" required>
              <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </select>
          </div>
          <div class="input-group">
            <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
            <input type="text" id="transaction-description" />
          </div>
          <div class="modal-actions">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="closeModal('transaction-modal')"
            >
              –û—Ç–º–µ–Ω–∞
            </button>
            <button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
          </div>
        </form>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
    <div id="category-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</h2>
          <button class="close-btn" onclick="closeModal('category-modal')">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <form id="category-form">
          <div class="input-group">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
            <input type="text" id="category-name" required />
          </div>
          <div class="input-group">
            <label>–ò–∫–æ–Ω–∫–∞</label>
            <select id="category-icon">
              <option value="fas fa-shopping-cart">üõí –ü–æ–∫—É–ø–∫–∏</option>
              <option value="fas fa-utensils">üçΩÔ∏è –ï–¥–∞</option>
              <option value="fas fa-car">üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
              <option value="fas fa-home">üè† –î–æ–º</option>
              <option value="fas fa-gamepad">üéÆ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
              <option value="fas fa-heartbeat">üíä –ó–¥–æ—Ä–æ–≤—å–µ</option>
              <option value="fas fa-graduation-cap">üéì –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</option>
              <option value="fas fa-gift">üéÅ –ü–æ–¥–∞—Ä–∫–∏</option>
            </select>
          </div>
          <div class="input-group">
            <label>–¶–≤–µ—Ç</label>
            <input type="color" id="category-color" value="#4CAF50" />
          </div>
          <div class="modal-actions">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="closeModal('category-modal')"
            >
              –û—Ç–º–µ–Ω–∞
            </button>
            <button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
          </div>
        </form>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ª–∏–º–∏—Ç–∞ -->
    <div id="limit-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–∏–º–∏—Ç</h2>
          <button class="close-btn" onclick="closeModal('limit-modal')">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <form id="limit-form">
          <div class="input-group">
            <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
            <select id="limit-category" required>
              <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </select>
          </div>
          <div class="input-group">
            <label>–õ–∏–º–∏—Ç</label>
            <input type="number" id="limit-amount" step="0.01" required />
          </div>
          <div class="modal-actions">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="closeModal('limit-modal')"
            >
              –û—Ç–º–µ–Ω–∞
            </button>
            <button type="submit" class="btn btn-primary">–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
          </div>
        </form>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ü–µ–ª–∏ -->
    <div id="goal-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>–î–æ–±–∞–≤–∏—Ç—å —Ü–µ–ª—å</h2>
          <button class="close-btn" onclick="closeModal('goal-modal')">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <form id="goal-form">
          <div class="input-group">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
            <input type="text" id="goal-name" required />
          </div>
          <div class="input-group">
            <label>–¶–µ–ª–µ–≤–∞—è —Å—É–º–º–∞</label>
            <input type="number" id="goal-amount" step="0.01" required />
          </div>
          <div class="input-group">
            <label>–î–µ–¥–ª–∞–π–Ω</label>
            <input type="date" id="goal-deadline" />
          </div>
          <div class="modal-actions">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="closeModal('goal-modal')"
            >
              –û—Ç–º–µ–Ω–∞
            </button>
            <button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
          </div>
        </form>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–∞ —Ü–µ–ª—å -->
    <div id="transfer-goal-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –Ω–∞ —Ü–µ–ª—å</h2>
          <button class="close-btn" onclick="closeModal('transfer-goal-modal')">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <form id="transfer-goal-form">
          <div class="input-group">
            <label>–°—É–º–º–∞</label>
            <input type="number" id="transfer-amount" step="0.01" required />
          </div>
          <div class="modal-actions">
            <button
              type="button"
              class="btn btn-secondary"
              onclick="closeModal('transfer-goal-modal')"
            >
              –û—Ç–º–µ–Ω–∞
            </button>
            <button type="submit" class="btn btn-primary">–ü–µ—Ä–µ–≤–µ—Å—Ç–∏</button>
          </div>
        </form>
      </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notifications-container" class="notifications-container"></div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ -->
    <script type="module" src="./src/app.js"></script>
  </body>
</html>
